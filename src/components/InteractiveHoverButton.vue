<template>
  <button
    class="interactive-hover-button relative inline-flex h-12 w-full overflow-hidden rounded-md p-[1px] focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 focus:ring-offset-slate-900"
    :class="additionalClass"
    @click="$emit('click')"
  >
    <span
      class="absolute inset-[-1000%] animate-[spin_3s_linear_infinite] bg-[conic-gradient(from_90deg_at_50%_50%,#3B82F6_0%,#8B5CF6_50%,#3B82F6_100%)]"
    />
    <span
      class="inline-flex h-full w-full cursor-pointer items-center justify-center rounded-md bg-gray-900 px-3 py-1 text-sm font-medium text-white backdrop-blur-3xl transition-all"
    >
      <slot>
        <span class="flex items-center">
          {{ text }}
          <!-- 安卓图标 -->
          <svg v-if="platform === 'android'" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 ml-2">
            <path d="M17.523 15.34c-.5 0-.906-.405-.906-.906s.407-.906.906-.906.906.405.906.906-.406.906-.906.906m-11.046 0c-.5 0-.906-.405-.906-.906s.407-.906.906-.906.906.405.906.906-.406.906-.906.906m11.816-6.718l1.474-2.558c.083-.145.034-.328-.11-.413-.146-.085-.33-.035-.415.11l-1.494 2.594c-1.136-.524-2.42-.82-3.794-.82s-2.658.296-3.793.82l-1.494-2.594c-.085-.145-.27-.195-.415-.11-.146.085-.194.268-.11.413l1.473 2.558C7.155 9.52 5.5 11.58 5.5 14h13c0-2.42-1.655-4.48-4.207-5.378" />
          </svg>
          
          <!-- 苹果图标 -->
          <svg v-if="platform === 'ios'" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 ml-2">
            <path d="M22 17.607c-.786 2.28-3.139 6.317-5.563 6.361-1.608.031-2.125-.953-3.963-.953-1.837 0-2.412.923-3.932.983-2.572.099-6.542-5.827-6.542-10.995 0-4.747 3.308-7.1 6.198-7.143 1.55-.028 3.014 1.045 3.959 1.045.949 0 2.727-1.29 4.596-1.101.782.033 2.979.315 4.389 2.377-3.741 2.442-3.158 7.549.858 9.426zm-5.222-17.607c-2.826.114-5.132 3.079-4.81 5.531 2.612.203 5.118-2.725 4.81-5.531z"/>
          </svg>
          
          <!-- Windows图标 -->
          <svg v-if="platform === 'windows'" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 ml-2">
            <path d="M0 3.449l9.75-1.349v9.75h-9.75v-8.401zm10.949-1.549l12.051-1.9v11.4h-12.051v-9.5zm-10.949 10.5h9.75v9.801l-9.75-1.352v-8.449zm10.949 0h12.051v11.4l-12.051-1.8v-9.6z"/>
          </svg>
          
          <!-- Linux图标 -->
          <svg v-if="platform === 'linux'" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 ml-2">
            <path d="M20.581 19.049c-.55-.446-.336-1.431-.907-1.917.553-3.365-.997-6.331-2.845-8.232-1.551-1.595-1.051-3.147-1.051-4.49 0-2.146-.881-4.41-3.55-4.41-2.853 0-3.635 2.38-3.663 3.738-.068 3.262.659 4.11-1.25 6.484-2.246 2.793-2.577 5.579-2.07 7.057-.237.276-.557.582-1.155.835-1.652.72-.441 1.925-.441 1.925s.923.191 1.993-.019c1.172-.23 1.961-1.042 2.958-.191 1.548 1.317 3.092 1.859 4.719 1.751 2.886-.189 4.303-.729 5.498.041.936.601 1.788.158 1.788.158s1.171-1.518-.024-2.74zm-16.013-.283c-.099-.187-.018-.508.141-.812.123.312.203.618.131.812-.106.259-.338.155-.272 0zm1.125-1.039c-.079-.42.18-1.243.433-1.743-.6.323-.65 1.016-.547 1.743.083.546.462.232.114 0zm1.291.031c-.187-.323-.234-.916-.052-1.744-.388.492-.417 1.325-.229 1.744.264.419.38.419.281 0zm1.095.094c-.123-.281-.096-.937.021-1.589-.307.652-.307 1.156-.151 1.589.209.404.339.342.13 0zm.995-.021c-.28-.404.314-1.801.342-3.119-.533 1.694-.533 2.816-.327 3.119.238.343.342.312-.015 0zm2.44-1.098c-.436 0-.624-.141-.624-.432 0-.159.033-.325.131-.524.145.392.328.627.624.65-.003.102-.035.306-.131.306zm1.245-1.172c-.293-.307-.098-.805.021-.956-.485-.107-.531.541-.021.956zm-1.145 2.161c.466-.261.854-.598.928-.858-.242-.091-.848.339-1.344.526-.401.17-.613.012-.643-.098 0-.036-.112-.358.009-.761-.242.555-.459.907.06 1.315.486.374.696.106.99-.124zm-3.501-3.217c-.296.048-.878.646-.878 1.307 0 .155.021.493.257.618.236.125.363.026.427-.141.124-.318.458-.435.48-.486.024-.053-.306-.092-.275-.368.037-.303.171-.683.289-.856-.042.029-.193.112-.3-.074zm10.091 2.118c.233.337.046.508-.32.485-.365-.024-.32.296-.878.17-.27-.059-.79-.086-1.043-.46-.27-.398-.404-.505-.222-.505h.676c.127.295.336.283.541.316.243.038.527-.14.527.112 0 .256-.366.245-.366.406 0 .16.161.67.409.67.248 0 .409-.409.675-.452-.103-.058-.219-.344.001-.742zm-1.541-1.229c.195-.401.151-.639-.073-.754-.217-.111-.246-.192.312-.671.32-.226.245-.924-.034-1.04.217.4-.372.333.064 1.095-.126-.011-.179.104-.098.165.193.148.433.59-.171 1.205zm-7.365-1.004c.114.055.277.061.166-.092-.12-.164-.204-.056-.166.092zm-.047 1.193c.075.108.215.249.089.058-.136-.213-.253-.168-.089-.058zm.193.685c.217.331.518.651.355.417-.163-.233-.372-.566-.355-.417zm10.473 1.176c.454.503 1.001.337.515-.172-.111-.116-.289-.218-.489-.289-.156.345-.082.31-.026.461zm-9.956.384c.055-.119.09-.231.091-.362.025-.329-.33-.355-.33-.097 0 .28.148.361.239.459z"/>
          </svg>
          
          <!-- 微信小程序图标 -->
          <svg v-if="platform === 'miniprogram'" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 ml-2">
            <path d="M8.691 2.188C3.891 2.188 0 5.476 0 9.53c0 2.212 1.17 4.203 3.002 5.55a.59.59 0 0 1 .213.665l-.39 1.48c-.019.07-.048.141-.048.213 0 .163.13.295.29.295a.328.328 0 0 0 .206-.074l2.37-1.37a.951.951 0 0 1 .326-.099c.065-.005.127.005.19.017a9.714 9.714 0 0 0 2.532.337c.433 0 .858-.034 1.273-.098-.352-1.068-.546-2.201-.546-3.373 0-3.9 3.736-7.077 8.308-7.077.179 0 .357.006.535.018C17.345 4.236 13.398 2.188 8.691 2.188zm1.493 5.96a1.2 1.2 0 1 1 0-2.4 1.2 1.2 0 0 1 0 2.4zm6.305 0a1.2 1.2 0 1 1 0-2.4 1.2 1.2 0 0 1 0 2.4z"/>
            <path d="M21.5 14.766c0-3.141-3.108-5.766-6.913-5.766-3.842 0-6.991 2.612-6.991 5.766 0 3.155 3.149 5.766 6.99 5.766.397 0 .782-.035 1.154-.092.06-.01.124-.02.186-.02.052 0 .103.01.153.035l2.082 1.17c.07.039.15.06.232.06a.333.333 0 0 0 .332-.337c0-.06-.015-.118-.035-.178l-.338-1.256a.619.619 0 0 1 .222-.631c1.791-1.333 2.926-3.228 2.926-5.517zm-9.096-.354a1.044 1.044 0 1 1 0-2.088 1.044 1.044 0 0 1 0 2.088zm4.246 0a1.044 1.044 0 1 1 0-2.088 1.044 1.044 0 0 1 0 2.088z"/>
          </svg>
        </span>
      </slot>
    </span>
  </button>
</template>

<script setup>
const props = defineProps({
  text: {
    type: String,
    default: "按钮",
  },
  additionalClass: {
    type: String,
    default: "",
  },
  platform: {
    type: String,
    default: "",
  }
});

defineEmits(['click']);
</script>

<style scoped>
.interactive-hover-button:hover span:first-child {
  inset: -100%;
  transition: inset 0.5s ease-in-out;
}

.interactive-hover-button span:nth-child(2) {
  transition: all 0.3s ease-in-out;
}

.interactive-hover-button:hover span:nth-child(2) {
  background-color: rgba(17, 24, 39, 0.8);
  transform: scale(0.98);
}
</style> 